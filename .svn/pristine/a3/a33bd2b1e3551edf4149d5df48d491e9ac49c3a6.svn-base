
// 管理信息缓存
// 关键字列表
const keyList={
	USERS_KEY : 'USERS_KEY',
	FRIEND_LIST:'FRIEND_LIST',
	FINDSLIST:'FINDSLIST'
}
// get方法抽取
const get=function(key){
	let ret = '';
	ret = uni.getStorageSync(key);
	if (!ret) {
	    ret = '[]';
	}
	return JSON.parse(ret);
}
// add方法抽取
const add=function (key,lists) {
	console.log("缓存存入"+JSON.stringify(lists));
	uni.setStorage({
		key : key,
		data : JSON.stringify(lists),
		success: () => {
			console.log("缓存存入成功");
		}
	})
}
const getUsers = function () {
    let key=keyList.USERS_KEY;
	return get(key);
}

const addUser = function (userInfo) {
    let lists='['+JSON.stringify(userInfo)+']';
	lists=JSON.parse(lists);
    let key=keyList.USERS_KEY;
	return add(key,lists);
}

const getFriends = function () {
    let key=keyList.FRIEND_LIST;
    return get(key);
}

const addFriends = function (lists) {
	let key=keyList.FRIEND_LIST;
	return add(key,lists);
}
const getFinds = function () {
    let key=keyList.FINDSLIST;
    return get(key);
}

const addFinds = function (lists) {
	let key=keyList.FINDSLIST;
	return add(key,lists);
}
export default {
    getUsers,
    addUser,
	getFriends,
	addFriends,
	getFinds,
	addFinds
}
