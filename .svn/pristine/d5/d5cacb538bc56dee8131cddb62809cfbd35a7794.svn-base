<template>
	<!-- 关注我的列表 -->
	<view class="focusLists">		
		<view class="focusRow flex flex-vc flex-jsb" v-for="(item,index) in lists" v-bind:key="index">
			<view class="focusHead flex flex-vc flex-jsb" @tap="toInfo">
				<image :src="item.userImg" mode="aspectFill"></image>
				<text class="inline-block width-150 one-line-ellipsis">{{item.userName}}</text>
			</view>
			<view class="addFocus flex flex-jc" @tap="focus(index)">
				<text v-show="item.isFocus==false">+关注</text>
				<text v-show="item.isFocus==true">已关注</text>
			</view>
		</view>			
	</view>
</template>

<script>
	export default {
		data() {
			return {	
				lists:[
					{
						userImg:'../../../static/img/finds_01.jpg',
						userName:'房辉冯',
						isFocus:false
					},
					{
						userImg:'../../../static/img/friendhead.png',
						userName:'五月瓜',
						isFocus:false
					},
					{
						userImg:'../../../static/img/finds_02.jpeg',
						userName:'刘小贝',
						isFocus:false
					}
				]
			}
		},
		methods: {
			toInfo(){
				uni.navigateTo({
					url: '../../addressSubpackage/friendsInfo/friendsInfo',
					success: res => {},
					fail: () => {},
					complete: () => {}
				});
			},
			focus(index){
				uni.showLoading({
					title:"加载中",
					complete: (res) => {
					}
				})
				if(this.lists[index].isFocus==false){
					this.lists[index].isFocus=true
					setTimeout(function(){
						uni.hideLoading();
						uni.showToast({
							title:"关注成功",
							icon:"none"
						})
					}, 500)
				}else{
					this.lists[index].isFocus=false
					setTimeout(function(){
						uni.hideLoading();
						uni.showToast({
							title:"取消关注成功",
							icon:"none"
						})
					}, 500)
				}
			}
		},
	}
</script>

<style>
.focusLists{
		
	}
	.focusRow{
		width: 100%;
		height: 200upx;
		border-bottom: 1px solid #DDDDDD;
	}
	.focusHead{
		width: 360upx;
		height: 200upx;
	}
	.focusHead image{
		width: 100upx;
		height: 100upx;
		/* border: 1px solid #344955; */
		border-radius: 50%;
		margin-left: 50upx;
	}
	.focusHead text{
		margin-right: 50upx;
	}
	.focusUsername{
		display: inline-block;
		height: 200upx;
		line-height: 200upx;
		font-size: 30upx;
		font-weight: bold;
	}
	.addFocus{
		width: 140upx;
		margin-right: 70upx;
		/* border: 1px solid #344955; */
		border-radius: 20upx;
		background-color: #344955;
		color: white;
	}
</style>
