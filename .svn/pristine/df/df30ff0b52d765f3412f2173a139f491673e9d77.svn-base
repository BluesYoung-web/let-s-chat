<template>
	<view>	
			<!-- 自定义导航栏 -->
			<view class="navBar flex-vc flex-js">
				<view class="search flex flex-jc flex-vc ">
					<image src="../../static/img/searchFriend.png" mode=""></image>
					<input type="text" :value="inputMsg" placeholder="手机号/来聊账号" @input="inputActive" />
				</view>					
				<text @tap="clearInput()">取消</text>
			</view>
	
	<view class="inputActive flex flex-js" @tap="toFriendsInfo(inputMsg)">
		<!-- {{inputMsg}} -->
		<view class="img flex flex-jc flex-vc">
			<image src="../../static/img/friendSearch.png" mode=""></image>
		</view>
		<view class="inputMessage flex flex-vc">
			<text >找人：{{inputMsg}}</text>
		</view>
	</view>
	<!-- 用户不存在提示框 -->
	<uni-popup :show="isShow" type="center"  @change="change">
		<view class="popup">
			<text>该用户不存在</text>
			<button type="default" @click="closePopup">确定</button>
		</view>
	</uni-popup>
	</view>
</template>

<script>
	import uniPopup from "@/components/uni-popup/uni-popup.vue"
	export default{
		components: {uniPopup},
		data(){
			return{
				//找人显示内容
				inputMsg:'',
				isShow:false,
				id:123 //死页面测试使用
				
			}
		},
		
		methods:{
			// 关闭提示框
			closePopup(){
				this.isShow = false;
			},
			// 点击空白处关闭提示框
			change(e){
				if (!e.show){
					this.isShow = false;
				}
			},
			//输入框监听
			inputActive(e){
				var input = e.detail.value
				this.inputMsg = input
				// console.log(this.inputMsg)
			},
			//点击取消，清空输入框
			clearInput(){
				this.inputMsg = ''				
			},
			// 跳转至查找的用户资料页面
			toFriendsInfo(inputMsg){
				if(inputMsg == this.id){
					uni.navigateTo({
						url: 'friendsInfo/friendsInfo',
						success: res => {},
						fail: () => {},
						complete: () => {}
					});
				}else if(inputMsg!='' && inputMsg != this.id){
					this.isShow=true
				}
				
			}
		}

	}
</script>

<style>
	.popup{
		width: 500upx;
		height: 200upx;
		background-color: #FFFFFF;
		text-align: center;
	}
	.popup text{
		height: 100upx;
		line-height: 100upx;		
	}
	.popup button{
		height: 100upx;
	}
	.search{
		height: 60upx;
		background-color: #FFFFFF;
		margin-left: 50upx;
	}
	.search image{
		margin-left: 20upx;
		margin-right: 20upx;
		width: 30upx;
		height: 30upx;
	}
	.search input{
		height: 50upx;
		width: 500upx;
		font-size: 30upx;
		color: #344955;
		background: #FFFFFF;
	}
	.navBar text{
		margin-left: 30upx;
		font-size: 35upx;
		background-color: #344955;
		color: #FFFFFF;
	}
	.inputActive{
		margin-top: 100upx;
		background-color: #EEEEEE;
	}
	.img{
		width: 100upx;
		height: 100upx;
	}
	.img image{
		width: 50upx;
		height: 50upx;
	}
</style>
